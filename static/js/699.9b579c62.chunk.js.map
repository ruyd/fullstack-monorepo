{"version":3,"file":"static/js/699.9b579c62.chunk.js","mappings":"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","sources":["features/canvas/thunks.ts","features/canvas/LoadingCanvas.tsx","features/canvas/Items.tsx","features/canvas/Canvas.tsx","features/canvas/Color.tsx","layout/StyledSlider.tsx","features/canvas/Player.tsx","features/canvas/NameEdit.tsx","features/canvas/LineSize.tsx","features/canvas/index.tsx","pages/Draw.tsx","../../packages/lib/src/types/drawing.ts"],"sourcesContent":["import { createAsyncThunk } from '@reduxjs/toolkit'\nimport { Drawing } from '@root/lib'\nimport { RootState } from '../../shared/store'\nimport { notifyError } from '../app'\nimport { get, Method, request } from '../app/thunks'\nimport { getCopy, getDraft } from './helpers'\nimport { actions } from './slice'\n\nexport const itemsAsync = createAsyncThunk(\n  'canvas/list',\n  async (_, { dispatch }) => {\n    const resp = await get<Drawing[]>(`/drawing`)\n    if (resp.status === 200) {\n      dispatch(actions.patch({ items: resp.data, loaded: true }))\n    }\n    return resp.data\n  }\n)\n\nexport const getAsync = createAsyncThunk(\n  'canvas/get',\n  async (id: string, { dispatch, getState }) => {\n    let active: Drawing | undefined\n    const state = getState() as RootState\n    const userId = state.app.user?.userId\n    active = state.canvas.items.find((i) => i.id === id)\n    if (!active) {\n      const resp = await get<Drawing>(`/drawing/${id}`)\n      if (resp.status === 404) {\n        dispatch(notifyError(`Drawing ${id} not found`))\n      }\n      const item = resp.data || getDraft()\n      const own = item.userId === userId\n      active = own ? item : getCopy(item)\n    }\n    dispatch(actions.patchActive(active as Drawing))\n    return active\n  }\n)\n\nexport const saveAsync = createAsyncThunk(\n  'canvas/save',\n  async ({ history, thumbnail }: Partial<Drawing>, { dispatch, getState }) => {\n    const state = getState() as RootState\n    const payload = {\n      ...state.canvas.active,\n      history,\n      thumbnail,\n    }\n\n    if (['draft', 'copy'].includes(payload.id as string)) {\n      payload.id = undefined\n    }\n\n    const response = await request<Drawing>('/drawing', payload)\n    if (response.status === 200) {\n      dispatch(actions.onSave(response.data))\n    }\n    return response.data\n  }\n)\n\nexport const deleteAsync = createAsyncThunk(\n  'canvas/delete',\n  async (id: string, { dispatch, getState }) => {\n    const response = await request(`/drawing/${id}`, null, Method.DELETE)\n    if (response.status !== 200) {\n      return\n    }\n    const state = (getState() as RootState).canvas.items\n    const items = state.filter((item) => item.id !== id)\n    const active = items.find((item) => item.id === id) || getDraft()\n    dispatch(actions.patch({ items, active }))\n  }\n)\n","import React from 'react'\nimport CircularProgress from '@mui/material/CircularProgress'\nimport { useAppSelector } from '../../shared/store'\n\nexport default function LoadingCanvas() {\n  const loading = useAppSelector((store) => store.canvas.loading)\n  return (\n    <>\n      <CircularProgress\n        className={`${loading ? '' : 'invisible'}`}\n        sx={{ position: 'absolute', left: '50%', top: '50%' }}\n      />\n    </>\n  )\n}\n","import { Delete } from '@mui/icons-material'\nimport {\n  Button,\n  Container,\n  IconButton,\n  ImageList,\n  ImageListItem,\n  ImageListItemBar,\n  Paper,\n} from '@mui/material'\nimport { Drawing } from '@root/lib'\nimport React from 'react'\nimport { useCallback } from 'react'\nimport { useNavigate, useParams } from 'react-router-dom'\nimport { Paths } from 'src/shared/routes'\nimport config from '../../shared/config'\nimport { useAppDispatch, useAppSelector } from '../../shared/store'\nimport { actions } from './slice'\nimport { deleteAsync, itemsAsync } from './thunks'\n\nexport default function Items() {\n  const items = useAppSelector((store) => store.canvas.items)\n  const loaded = useAppSelector((store) => store.canvas.loaded)\n  const activeId = useAppSelector((store) => store.canvas.active?.id)\n  const dispatch = useAppDispatch()\n  const navigate = useNavigate()\n  const setItem = useCallback(\n    (item: Drawing) => dispatch(actions.patchActive(item)),\n    [dispatch]\n  )\n  const isActive = (item: Drawing) => activeId === item?.id\n  const { id } = useParams()\n\n  const deleteItem = async (item: Drawing) => {\n    const result = await dispatch(deleteAsync(item.id as string))\n    if (result.meta.requestStatus === 'fulfilled') {\n      if (id === item.id) {\n        navigate(Paths.Draw, { replace: true })\n      }\n    }\n  }\n\n  React.useEffect(() => {\n    if (!loaded) {\n      dispatch(itemsAsync())\n    }\n  }, [dispatch, loaded])\n\n  return (\n    <Container maxWidth=\"xl\">\n      <Paper variant=\"elevation\" sx={{ padding: '1rem' }}>\n        <ImageList>\n          {items.map((item) => (\n            <ImageListItem\n              key={item.id}\n              sx={{\n                border: `solid 1px ${\n                  isActive(item) ? '#ab47bc' : 'transparent'\n                }`,\n                borderWidth: '0 0 1px 0',\n                transition: 'all 200ms ease-in',\n              }}\n            >\n              <img\n                src={item.thumbnail}\n                alt={item.name}\n                loading=\"lazy\"\n                style={{\n                  backgroundColor: 'rgba(200, 163, 255, .1)',\n                  height: config.thumbnails.height,\n                  width: config.thumbnails.width,\n                }}\n                width={config.thumbnails.width}\n                height={config.thumbnails.height}\n              />\n              <ImageListItemBar\n                title={item.name}\n                actionIcon={\n                  <>\n                    <Button onClick={() => setItem(item)}>Edit</Button>\n                    <IconButton onClick={() => deleteItem(item)}>\n                      <Delete />\n                    </IconButton>\n                  </>\n                }\n              />\n            </ImageListItem>\n          ))}\n        </ImageList>\n      </Paper>\n    </Container>\n  )\n}\n","import React from 'react'\n\nimport { ActionType } from '@root/lib'\nimport { adjustToResolution, setBrushDefaults } from './helpers'\nimport { useAppSelector } from '../../shared/store'\nimport config from '../../shared/config'\n\nexport function Canvas({\n  canvasRef,\n  contextRef,\n  record,\n}: {\n  canvasRef: React.MutableRefObject<HTMLCanvasElement | null>\n  contextRef: React.MutableRefObject<CanvasRenderingContext2D | null>\n  record: (t: ActionType, x?: number, y?: number) => void\n}) {\n  const color = useAppSelector((state) => state.canvas.color)\n  const size = useAppSelector((state) => state.canvas.size)\n  const isDrawing = React.useRef<boolean>(false)\n\n  const draw = React.useCallback(\n    (offsetX: number, offsetY: number, hist = false) => {\n      if (!contextRef?.current) {\n        return\n      }\n      contextRef.current.lineTo(offsetX, offsetY)\n      contextRef.current.stroke()\n      if (!hist) {\n        record(ActionType.Stroke, offsetX, offsetY)\n      }\n    },\n    [contextRef, record]\n  )\n\n  const startDrawing = (offsetX: number, offsetY: number) => {\n    if (!contextRef.current || !canvasRef.current) {\n      return\n    }\n    contextRef.current.beginPath()\n    contextRef.current.lineTo(offsetX + 1, offsetY + 1)\n    contextRef.current.stroke()\n    if (color === 'transparent') {\n      contextRef.current.globalCompositeOperation = 'destination-out'\n    } else {\n      contextRef.current.globalCompositeOperation = 'source-over'\n      contextRef.current.strokeStyle = color || 'black'\n    }\n    contextRef.current.lineWidth = size || config.defaultLineSize\n    isDrawing.current = true\n    canvasRef.current.style.cursor = 'crosshair'\n    record(ActionType.Open, offsetX + 1, offsetY + 1)\n  }\n\n  const finishDrawing = () => {\n    if (!contextRef.current || !canvasRef.current) {\n      return\n    }\n    contextRef.current.closePath()\n    isDrawing.current = false\n    canvasRef.current.style.cursor = 'default'\n    record(ActionType.Close)\n    if (!contextRef.current) {\n      return\n    }\n  }\n\n  //Events\n  const onMouseStart = ({ nativeEvent }: React.MouseEvent) => {\n    const { offsetX, offsetY } = nativeEvent\n    startDrawing(offsetX, offsetY)\n  }\n\n  const onMouseMove = ({ nativeEvent }: { nativeEvent: MouseEvent }) => {\n    if (!isDrawing.current || !contextRef?.current) {\n      return\n    }\n    const { offsetX, offsetY } = nativeEvent\n    draw(offsetX, offsetY)\n  }\n\n  const touchStart = (e: React.TouchEvent) => {\n    if (e.touches?.length > 1) return\n    const offsetX = e.touches[0].clientX\n    const offsetY = e.touches[0].clientY\n    startDrawing(offsetX, offsetY)\n  }\n\n  const touchMove = (e: React.TouchEvent) => {\n    if (e.touches?.length > 1) return\n    const offsetX = e.touches[0].clientX\n    const offsetY = e.touches[0].clientY\n    draw(offsetX, offsetY)\n  }\n\n  React.useEffect(() => {\n    const canvas = canvasRef.current\n    const context = canvas?.getContext('2d')\n    if (!canvas || !context) {\n      return\n    }\n    setBrushDefaults(context)\n    contextRef.current = context\n\n    //Responsive\n    adjustToResolution(canvas)\n\n    const handleResizing = () => {\n      adjustToResolution(canvas, true)\n    }\n    window.addEventListener('resize', handleResizing)\n    return () => window.removeEventListener('resize', () => handleResizing)\n  }, [canvasRef])\n\n  return (\n    <canvas\n      style={{ flex: 1 }}\n      onTouchStart={touchStart}\n      onTouchMove={touchMove}\n      onTouchEnd={finishDrawing}\n      onMouseDown={onMouseStart}\n      onMouseUp={finishDrawing}\n      onMouseMove={onMouseMove}\n      ref={canvasRef}\n    />\n  )\n}\n","import React from 'react'\nimport { Backspace, Check } from '@mui/icons-material'\nimport { Box, Fab, Stack } from '@mui/material'\nimport { useAppDispatch, useAppSelector } from 'src/shared/store'\nimport { actions } from './slice'\n\nconst colors = ['yellow', 'red', 'blue', 'green', 'black']\n\nexport default function Color() {\n  const dispatch = useAppDispatch()\n  const activeColor = useAppSelector((state) => state.canvas.color)\n  const [prev, setPrev] = React.useState<string | undefined>()\n  const isActive = (c: string) => activeColor === c\n  const setColor = (requested: string) => {\n    const color =\n      requested === 'transparent' && activeColor === 'transparent'\n        ? prev\n        : requested\n    dispatch(actions.patch({ color }))\n    setPrev(activeColor)\n  }\n\n  return (\n    <Box style={{ position: 'absolute', top: '30%', right: '3%' }}>\n      <Stack spacing={1}>\n        {colors.map((c) => (\n          <Fab\n            key={c}\n            sx={{\n              backgroundColor: c,\n            }}\n            onClick={() => setColor(c)}\n          >\n            {isActive(c) && <Check />}\n          </Fab>\n        ))}\n\n        <Fab title=\"eraser\" onClick={() => setColor('transparent')}>\n          <Backspace\n            sx={{\n              transform: isActive('transparent')\n                ? 'rotate(-45deg)'\n                : 'rotate(-90deg)',\n              transition: 'all 200ms ease-in',\n            }}\n          />\n        </Fab>\n      </Stack>\n    </Box>\n  )\n}\n","import { styled } from '@mui/material/styles'\nimport Slider, { SliderProps } from '@mui/material/Slider'\n\nconst StyledSlider = styled(Slider)(() => ({\n  color: '#7e57c2',\n  height: 8,\n  '& .MuiSlider-track': {\n    border: 'none',\n  },\n  '& .MuiSlider-thumb': {\n    transition: 'all 1s ease-in-out',\n    height: 24,\n    width: 24,\n    backgroundColor: '#000',\n    border: '2px solid currentColor',\n    '&:focus, &:hover, &.Mui-active, &.Mui-focusVisible': {\n      boxShadow: 'inherit',\n    },\n    '&:before': {\n      display: 'none',\n    },\n  },\n  '& .MuiSlider-valueLabel': {\n    lineHeight: 1.2,\n    fontSize: 12,\n    background: 'unset',\n    padding: 0,\n    width: 32,\n    height: 32,\n    borderRadius: '50% 50% 50% 0',\n    backgroundColor: '#7e57c2',\n    transformOrigin: 'bottom left',\n    transform: 'translate(50%, -100%) rotate(-45deg) scale(0)',\n    '&:before': { display: 'none' },\n    '&.MuiSlider-valueLabelOpen': {\n      transform: 'translate(50%, -100%) rotate(-45deg) scale(1)',\n    },\n    '& > *': {\n      transform: 'rotate(45deg)',\n    },\n  },\n}))\n\nexport default function WrapFix(props: SliderProps) {\n  return <StyledSlider {...props} />\n}\n","import React, { useEffect } from 'react'\nimport { DrawAction } from '@root/lib'\nimport { useAppSelector } from '../../shared/store'\nimport StyledSlider from '../../layout/StyledSlider'\nimport Box from '@mui/material/Box'\n\nexport default function Player({\n  buffer,\n}: {\n  buffer: React.RefObject<DrawAction[]>\n}) {\n  const active = useAppSelector((state) => state.canvas?.active)\n  const max = buffer?.current?.length || 1\n  const [marks, setMarks] = React.useState<{ value: number; label: string }[]>(\n    []\n  )\n\n  console.log(active)\n\n  useEffect(() => {\n    const m = [{ value: 0, label: '0' }]\n    if (max > 0) {\n      m.push({ value: max, label: `${max}` })\n    }\n    setMarks(m)\n  }, [max])\n\n  return (\n    <Box sx={{ width: '300px', margin: '0 auto' }}>\n      <StyledSlider max={buffer?.current?.length} marks={marks} />\n    </Box>\n  )\n}\n","import React from 'react'\nimport { styled, TextField } from '@mui/material'\nimport { useAppDispatch, useAppSelector } from '../../shared/store'\nimport { actions } from './slice'\n\nconst FieldStyled = styled(TextField)({\n  position: 'absolute',\n  top: '10%',\n  left: '20%',\n})\n\nexport default function NameEdit({\n  inputRef,\n  save,\n}: {\n  inputRef: React.RefObject<HTMLInputElement>\n  save: () => void\n}) {\n  const active = useAppSelector((state) => state.canvas?.active)\n  const dispatch = useAppDispatch()\n  const onNameChange = React.useCallback(\n    (e: { target: { value: string } }) => {\n      dispatch(actions.patchActive({ name: e.target.value }))\n    },\n    [dispatch]\n  )\n  const onKeyUp = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === 'Enter') {\n      save()\n    }\n  }\n  return (\n    <FieldStyled\n      variant=\"standard\"\n      autoFocus={active.id === 'draft'}\n      accessKey=\"N\"\n      inputRef={inputRef}\n      value={active?.name || ''}\n      onChange={onNameChange}\n      key={`${active.id}-${active.createdAt}`}\n      onKeyUp={onKeyUp}\n    />\n  )\n}\n","import { Container, Slider, styled } from '@mui/material'\nimport config from '../../shared/config'\nimport { useAppDispatch, useAppSelector } from 'src/shared/store'\nimport { actions } from './slice'\n\nconst ContainerStyled = styled(Container)({\n  position: 'absolute',\n  bottom: '3%',\n  left: '20%',\n  width: '70%',\n})\n\nexport default function LineSize() {\n  const activeSize = useAppSelector((state) => state.canvas.size)\n  const dispatch = useAppDispatch()\n  const onSize = (e: Event, v: number | number[]) =>\n    dispatch(actions.patch({ size: v as number }))\n  return (\n    <ContainerStyled>\n      <Slider\n        value={activeSize || config.defaultLineSize}\n        onChange={onSize}\n        min={1}\n        max={100}\n        valueLabelDisplay=\"auto\"\n        title=\"Line size\"\n      />\n    </ContainerStyled>\n  )\n}\n","import React, { useRef, startTransition } from 'react'\nimport { DrawAction, ActionType, Drawing } from '@root/lib'\nimport { useAppDispatch, useAppSelector } from '../../shared/store'\nimport { getAsync, saveAsync } from './thunks'\nimport { Container, Fab, Stack } from '@mui/material'\nimport LoadingCanvas from './LoadingCanvas'\nimport { actions } from './slice'\nimport Items from './Items'\nimport { generateThumbnail, getDraft } from './helpers'\nimport { Canvas } from './Canvas'\nimport Color from './Color'\nimport Player from './Player'\nimport NameEdit from './NameEdit'\nimport { useNavigate, useParams } from 'react-router-dom'\nimport { Paths } from 'src/shared/routes'\nimport LineSize from './LineSize'\n\nexport default function CanvasControl() {\n  const dispatch = useAppDispatch()\n  const history = useAppSelector((state) => state.canvas?.active?.history)\n  const id = useAppSelector((state) => state.canvas?.active?.id)\n  const canvasRef = useRef<HTMLCanvasElement | null>(null)\n  const contextRef = useRef<CanvasRenderingContext2D | null>(null)\n  const buffer = useRef<DrawAction[]>([])\n  const bufferId = useRef<string | null>(null)\n  const nameRef = useRef<HTMLInputElement | null>(null)\n  const workerRef = useRef<Worker | null>(null)\n  const { id: paramId } = useParams()\n  const navigate = useNavigate()\n\n  const record = React.useCallback((t: ActionType, x?: number, y?: number) => {\n    const w = contextRef.current?.lineWidth\n    const c = contextRef.current?.strokeStyle as string\n    const ts = new Date().getTime()\n    buffer.current = [...buffer.current, { x, y, t, w, c, ts }]\n  }, [])\n\n  const clearCanvas = React.useCallback(() => {\n    const canvas = canvasRef.current\n    const context = canvas?.getContext('2d')\n    if (!canvas || !context) {\n      return\n    }\n    context.clearRect(0, 0, canvas.width, canvas.height)\n    buffer.current = []\n    bufferId.current = null\n    navigate(`${Paths.Draw}`, { replace: true })\n  }, [navigate])\n\n  const newHandler = React.useCallback(() => {\n    clearCanvas()\n    const active = getDraft()\n    dispatch(actions.patch({ active }))\n  }, [clearCanvas, dispatch])\n\n  const saveCanvas = React.useCallback(async () => {\n    const canvas = canvasRef.current\n    const context = canvas?.getContext('2d')\n    if (!canvas || !context) {\n      return\n    }\n\n    const payload = {\n      history: buffer.current,\n      thumbnail: await generateThumbnail(canvas),\n    }\n    await dispatch(saveAsync(payload))\n  }, [dispatch])\n\n  const renderHistory = React.useCallback(() => {\n    if (!canvasRef.current || !contextRef.current) {\n      return\n    }\n\n    //Lazy worker\n    if (!workerRef.current) {\n      const worker = new Worker(new URL('./worker.ts', import.meta.url))\n      worker.onmessage = (e) => {\n        if (!contextRef.current) {\n          console.error('no context for result')\n        }\n        contextRef.current?.putImageData(e.data, 0, 0)\n        dispatch(actions.patch({ loading: false }))\n      }\n      workerRef.current = worker\n    }\n\n    //Worker rendering\n    dispatch(actions.patch({ loading: true }))\n\n    //Resizing, retina support\n    const { width, height } = canvasRef.current.getBoundingClientRect()\n    workerRef.current.postMessage({\n      buffer: buffer.current,\n      width,\n      height,\n      dpr: window.devicePixelRatio,\n    })\n  }, [dispatch])\n\n  /**\n   * onItemChanged\n   */\n  React.useEffect(() => {\n    if (id === 'draft') {\n      clearCanvas()\n      return\n    }\n\n    if (bufferId.current !== id) {\n      const savedDraft = bufferId.current === 'draft' && !!id && id !== 'draft'\n      bufferId.current = id as string\n      if (savedDraft) {\n        return\n      }\n      buffer.current = history\n    } else {\n      return\n    }\n\n    startTransition(() => {\n      renderHistory()\n    })\n  }, [id, history, renderHistory, clearCanvas])\n\n  React.useEffect(() => {\n    async function run() {\n      if (paramId && id !== paramId) {\n        const res = await dispatch(getAsync(paramId))\n        if ((res?.payload as Drawing)?.id === 'copy') {\n          navigate(`${Paths.Draw}`, { replace: true })\n        }\n      }\n    }\n    run()\n  }, [paramId])\n\n  return (\n    <Container\n      maxWidth={false}\n      disableGutters\n      sx={{ display: 'flex', flexFlow: 'column' }}\n    >\n      <Canvas canvasRef={canvasRef} contextRef={contextRef} record={record} />\n      <NameEdit inputRef={nameRef} save={saveCanvas} />\n      <Color />\n      <Stack\n        sx={{ position: 'absolute', right: '3%', bottom: '10%' }}\n        spacing={1}\n      >\n        <Fab color=\"secondary\" onClick={newHandler}>\n          New\n        </Fab>\n        <Fab color=\"secondary\" onClick={clearCanvas}>\n          Clear\n        </Fab>\n        <Fab color=\"secondary\" onClick={saveCanvas}>\n          Save\n        </Fab>\n      </Stack>\n      <LineSize />\n      <LoadingCanvas />\n      <Player buffer={buffer} />\n      <Items />\n    </Container>\n  )\n}\n","import CanvasControl from '../features/canvas'\n\nexport default function Draw() {\n  return (\n    <div>\n      <CanvasControl />\n    </div>\n  )\n}\n","import { Entity, User } from '.'\n\nexport enum ActionType {\n  Open = 0,\n  Close = 1,\n  Stroke = 2,\n}\n\n/**\n * Reducing space as much as possible\n *\n * c: color\n * w: width/size\n * ts: unix timestamp\n */\n// better space would be, mini serializer needed\n// JSON.stringify([...Object.values({ x, y, t, w, st, ts })])\nexport interface DrawAction {\n  t: ActionType\n  x?: number\n  y?: number\n  c?: string\n  w?: number\n  ts?: number\n}\n\nexport interface Drawing extends Entity {\n  id?: string\n  userId?: string\n  name: string\n  history: DrawAction[]\n  thumbnail?: string\n  private?: boolean\n  user?: User\n}\n\n// might be better to add up all open closes hmm\nexport function getTimeSpent(d: Drawing): number {\n  if (d.history.length < 2) {\n    return 0\n  }\n  const first = d.history[0].ts as number\n  const last = d.history[d.history.length - 1].ts as number\n  const millisecs = last - first\n  return millisecs\n}\n\nexport function getDuration(d: Drawing) {\n  const secs = Math.round(getTimeSpent(d) / 1000)\n  const mins = Math.round(secs / 60)\n  const hours = Math.round(mins / 60)\n  const rem = secs % 60\n  return `${hours}h:${mins}m:${rem}s`\n}\n"],"names":["itemsAsync","createAsyncThunk","_","dispatch","get","resp","status","actions","items","data","loaded","getAsync","id","getState","state","userId","app","user","active","canvas","find","i","notifyError","item","getDraft","own","getCopy","saveAsync","history","thumbnail","payload","includes","undefined","request","response","deleteAsync","Method","filter","LoadingCanvas","loading","useAppSelector","store","CircularProgress","className","sx","position","left","top","Items","activeId","useAppDispatch","navigate","useNavigate","setItem","useCallback","isActive","useParams","deleteItem","meta","requestStatus","Paths","replace","React","Container","maxWidth","Paper","variant","padding","ImageList","map","ImageListItem","border","borderWidth","transition","src","alt","name","style","backgroundColor","height","config","width","ImageListItemBar","title","actionIcon","Button","onClick","IconButton","Delete","Canvas","canvasRef","contextRef","record","color","size","isDrawing","draw","offsetX","offsetY","hist","current","lineTo","stroke","ActionType","startDrawing","beginPath","globalCompositeOperation","strokeStyle","lineWidth","cursor","finishDrawing","closePath","context","getContext","setBrushDefaults","adjustToResolution","handleResizing","window","addEventListener","removeEventListener","flex","onTouchStart","e","touches","length","clientX","clientY","onTouchMove","onTouchEnd","onMouseDown","nativeEvent","onMouseUp","onMouseMove","ref","colors","Color","activeColor","prev","setPrev","c","setColor","requested","Box","right","Stack","spacing","Fab","Check","Backspace","transform","StyledSlider","styled","Slider","boxShadow","display","lineHeight","fontSize","background","borderRadius","transformOrigin","WrapFix","props","Player","buffer","max","marks","setMarks","console","log","useEffect","m","value","label","push","margin","FieldStyled","TextField","NameEdit","inputRef","save","onNameChange","target","autoFocus","accessKey","onChange","onKeyUp","key","createdAt","ContainerStyled","bottom","LineSize","activeSize","v","min","valueLabelDisplay","CanvasControl","useRef","bufferId","nameRef","workerRef","paramId","t","x","y","w","ts","Date","getTime","clearCanvas","clearRect","newHandler","saveCanvas","generateThumbnail","renderHistory","worker","Worker","URL","onmessage","error","putImageData","getBoundingClientRect","postMessage","dpr","devicePixelRatio","savedDraft","startTransition","res","run","disableGutters","flexFlow","Draw","getDuration","d","secs","Math","round","first","getTimeSpent","mins","hours","rem"],"sourceRoot":""}