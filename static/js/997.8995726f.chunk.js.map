{"version":3,"file":"static/js/997.8995726f.chunk.js","mappings":"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","sources":["../../lib/src/types/drawing.ts","shared/config.ts","features/canvas/helpers.ts","features/canvas/worker.ts","../webpack/bootstrap","../webpack/runtime/chunk loaded","../webpack/runtime/define property getters","../webpack/runtime/ensure chunk","../webpack/runtime/get javascript chunk filename","../webpack/runtime/get mini-css chunk filename","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/publicPath","../webpack/runtime/importScripts chunk loading","../webpack/runtime/startup chunk dependencies","../webpack/startup"],"sourcesContent":["import { Entity, User } from '.'\n\nexport enum ActionType {\n  Open = 0,\n  Close = 1,\n  Stroke = 2,\n}\n\n/**\n * Reducing space as much as possible\n *\n * c: color\n * w: width/size\n * ts: unix timestamp\n */\n// better space would be, mini serializer needed\n// JSON.stringify([...Object.values({ x, y, t, w, st, ts })])\nexport interface DrawAction {\n  t: ActionType\n  x?: number\n  y?: number\n  c?: string\n  w?: number\n  ts?: number\n}\n\nexport interface Drawing extends Entity {\n  id?: string\n  userId?: string\n  name: string\n  history: DrawAction[]\n  thumbnail?: string\n  private?: boolean\n  user?: User\n}\n\n// might be better to add up all open closes hmm\nexport function getTimeSpent(d: Drawing): number {\n  if (d.history.length < 2) {\n    return 0\n  }\n  const first = d.history[0].ts as number\n  const last = d.history[d.history.length - 1].ts as number\n  const millisecs = last - first\n  return millisecs\n}\n\nexport function getDuration(d: Drawing) {\n  const secs = Math.round(getTimeSpent(d) / 1000)\n  const mins = Math.round(secs / 60)\n  const hours = Math.round(mins / 60)\n  const rem = secs % 60\n  return `${hours}h:${mins}m:${rem}s`\n}\n","import axios from 'axios'\nimport packageJson from '../../package.json'\n\nexport interface Config {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  [key: string]: any\n  baseName: string\n  apiUrl: string\n  defaultTitle: string\n  defaultLineSize: number\n  defaultColor: string\n  thumbnails: {\n    width: number\n    height: number\n  }\n  auth: {\n    domain: string\n    baseUrl: string\n    redirectUrl: string\n    clientId: string\n    audience: string\n    google?: {\n      clientId: string\n    }\n  }\n}\nconst env = process.env\nconst defaultBaseName = process.env.NODE_ENV === 'test' ? '/' : packageJson.homepage || '/'\nconst config: Config = {\n  baseName: env.BASE_NAME || defaultBaseName,\n  apiUrl: env.BACKEND || 'https://drawspace-api.herokuapp.com',\n  defaultTitle: 'Drawspace',\n  defaultColor: 'yellow',\n  defaultLineSize: 20,\n  thumbnails: {\n    width: 300,\n    height: 200,\n  },\n  auth: {\n    domain: `${env.AUTH_TENANT}.auth0.com`,\n    baseUrl: `https://${env.AUTH_TENANT}.auth0.com`,\n    audience: `https://backend`,\n    clientId: env.AUTH_CLIENT_ID || '',\n    redirectUrl: env.AUTH_REDIRECT_URL || 'https://drawspace-api.herokuapp.com/callback',\n    google: {\n      clientId: process.env.GOOGLE_CLIENT_ID || '',\n    },\n  },\n}\n\nexport async function applyConfig() {\n  axios.defaults.baseURL = config.apiUrl\n  // Remotish config\n  const serverConfig = (await axios.get<Config>('/config'))?.data\n  if (serverConfig) {\n    Object.keys(serverConfig).forEach(key => {\n      config[key] = { ...config[key], ...serverConfig[key] }\n    })\n  }\n}\n\nexport default config\n","import { Drawing } from '@shared/lib'\nimport config from '../../shared/config'\n\nexport function setBrushDefaults(\n  context: CanvasRenderingContext2D | OffscreenCanvasRenderingContext2D,\n) {\n  context.strokeStyle = config.defaultColor\n  context.lineWidth = config.defaultLineSize\n  context.lineCap = 'round'\n  context.lineJoin = 'round'\n  //context.miterLimit = 2\n}\n\nfunction setWH(canvas: HTMLCanvasElement, w: number, h: number) {\n  const context = canvas.getContext('2d')\n  const existing = canvas.getContext('2d')?.getImageData(0, 0, canvas.width, canvas.height)\n  const dpr = window.devicePixelRatio\n  canvas.width = w * dpr\n  canvas.height = h * dpr\n  context?.scale(dpr, dpr)\n  //https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Optimizing_canvas\n  canvas.style.width = w + 'px'\n  canvas.style.height = h + 'px'\n  if (existing) {\n    context?.putImageData(existing, 0, 0)\n  }\n}\n\nexport function adjustToResolution(canvas: HTMLCanvasElement, resize?: boolean) {\n  if (!canvas) {\n    return\n  }\n  const min = {\n    w: 375,\n    h: 667,\n  }\n  const iw = window.innerWidth - 20\n  const ih = window.innerHeight - 95\n  const w = iw < min.w ? min.w : iw\n  const h = ih < min.h ? min.h : ih\n  if ((resize && w < canvas.width) || h < canvas.height) {\n    return\n  }\n  setWH(canvas, w, h)\n}\n\nexport function adjustOffscreenResolution(\n  canvas: OffscreenCanvas,\n  width: number,\n  height: number,\n  dpr: number,\n) {\n  if (!canvas) {\n    return\n  }\n  canvas.width = width * dpr\n  canvas.height = height * dpr\n  canvas.getContext('2d')?.scale(dpr, dpr)\n}\n\nexport function createOffscreen(width: number, height: number, dpr: number) {\n  const offline = new OffscreenCanvas(width, height)\n  adjustOffscreenResolution(offline, width, height, dpr)\n  const context = offline.getContext('2d') as OffscreenCanvasRenderingContext2D\n  if (!context) {\n    return\n  }\n\n  setBrushDefaults(context)\n\n  return context\n}\n\nexport async function generateThumbnail(\n  canvas: HTMLCanvasElement,\n  width = config.thumbnails.width,\n  height = config.thumbnails.height,\n): Promise<string> {\n  const data = canvas.toDataURL()\n  const img = new Image(canvas.width, canvas.height)\n  img.src = data\n  img.height = height\n  img.width = width\n\n  const srcAsync = (): Promise<string> =>\n    new Promise(resolve => {\n      img.onload = () => {\n        const off = document.createElement('canvas')\n        off.width = width\n        off.height = height\n        const context = off.getContext('2d') as CanvasRenderingContext2D\n        context.drawImage(img, 0, 0, width, height)\n        const result = context.canvas.toDataURL()\n        resolve(result)\n      }\n    })\n\n  const result = await srcAsync()\n  return result\n}\n\nexport function getDraft() {\n  let draft: Drawing = {\n    id: 'draft',\n    name: 'New Draft',\n    history: [],\n  }\n  const persisted = localStorage.getItem('canvas')\n  if (persisted?.includes('{')) {\n    draft = JSON.parse(persisted) as Drawing\n  }\n  return draft\n}\n\nexport function getCopy(original: Drawing) {\n  const active = { ...original, id: 'copy', name: 'Copy' }\n  active.createdAt = new Date()\n  active.updatedAt = active.createdAt\n  const ts = active.createdAt.getTime()\n  active.history.forEach(h => {\n    h.ts = ts\n  })\n  return active\n}\n\nexport function isEmptyCanvas(canvas: HTMLCanvasElement) {\n  const blank = document.createElement('canvas')\n  blank.width = canvas.width\n  blank.height = canvas.height\n  return canvas.toDataURL() === blank.toDataURL()\n}\n","import { ActionType, DrawAction } from '@shared/lib'\nimport { createOffscreen } from './helpers'\n\nexport type WorkMessage = {\n  buffer: DrawAction[]\n  width: number\n  height: number\n  dpr: number\n  stopAt?: number\n  stream?: boolean\n}\n\nconst w = self as Window & typeof globalThis\n\nfunction send(background: OffscreenCanvasRenderingContext2D, width: number, height: number) {\n  try {\n    const data = background.getImageData(0, 0, width, height)\n    // eslint-disable-next-line\n    w?.postMessage(data)\n  } catch (err: unknown) {\n    // eslint-disable-next-line no-console\n    console.error(err)\n  }\n}\n\nfunction processHistory({ buffer, width, height, dpr, stream, stopAt }: WorkMessage) {\n  const background = createOffscreen(width, height, dpr)\n  if (!background) {\n    return\n  }\n\n  let i = 0\n  for (const { t, x, y, c, w } of buffer) {\n    if (c) {\n      background.strokeStyle = c\n    }\n    if (w) {\n      background.lineWidth = w\n    }\n    if (t === ActionType.Open) {\n      background.beginPath()\n    }\n    if ([ActionType.Open, ActionType.Stroke].includes(t)) {\n      background.lineTo(x as number, y as number)\n      background.stroke()\n    }\n    if (t === ActionType.Close) {\n      background.closePath()\n      if (stream) {\n        send(background, width, height)\n      }\n    }\n    if (stopAt === i) {\n      return\n    }\n    i += 1\n  }\n  send(background, width, height)\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nw.onmessage = ({ data }: { data: WorkMessage; ev?: MessageEvent<any> }) => {\n  processHistory(data)\n}\n\nexport {}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n__webpack_require__.x = function() {\n\t// Load entry module and return exports\n\t// This entry module depends on other loaded chunks and execution need to be delayed\n\tvar __webpack_exports__ = __webpack_require__.O(undefined, [549], function() { return __webpack_require__(1997); })\n\t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n\treturn __webpack_exports__;\n};\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"static/js/\" + chunkId + \".\" + \"f87f354d\" + \".chunk.js\";\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.p = \"/fullstack-monorepo/\";","// no baseURI\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t997: 1\n};\n\n// importScripts chunk loading\nvar installChunk = function(data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\twhile(chunkIds.length)\n\t\tinstalledChunks[chunkIds.pop()] = 1;\n\tparentChunkLoadingFunction(data);\n};\n__webpack_require__.f.i = function(chunkId, promises) {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\timportScripts(__webpack_require__.p + __webpack_require__.u(chunkId));\n\t\t}\n\t}\n};\n\nvar chunkLoadingGlobal = self[\"webpackChunkclient\"] = self[\"webpackChunkclient\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = installChunk;\n\n// no HMR\n\n// no HMR manifest","var next = __webpack_require__.x;\n__webpack_require__.x = function() {\n\treturn __webpack_require__.e(549).then(next);\n};","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"names":["ActionType","env","process","defaultBaseName","packageJson","config","baseName","BASE_NAME","apiUrl","BACKEND","defaultTitle","defaultColor","defaultLineSize","thumbnails","width","height","auth","domain","AUTH_TENANT","baseUrl","audience","clientId","AUTH_CLIENT_ID","redirectUrl","AUTH_REDIRECT_URL","google","GOOGLE_CLIENT_ID","createOffscreen","dpr","offline","OffscreenCanvas","canvas","getContext","scale","adjustOffscreenResolution","context","strokeStyle","lineWidth","lineCap","lineJoin","setBrushDefaults","w","self","send","background","data","getImageData","postMessage","err","console","error","onmessage","buffer","stream","stopAt","i","t","x","y","c","Open","beginPath","Stroke","includes","lineTo","stroke","Close","closePath","processHistory","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","__webpack_exports__","O","deferred","result","chunkIds","fn","priority","notFulfilled","Infinity","length","fulfilled","j","Object","keys","every","key","splice","r","d","definition","o","defineProperty","enumerable","get","f","e","chunkId","Promise","all","reduce","promises","u","miniCssF","obj","prop","prototype","hasOwnProperty","call","p","installedChunks","importScripts","chunkLoadingGlobal","parentChunkLoadingFunction","push","bind","moreModules","runtime","pop","next","then"],"sourceRoot":""}